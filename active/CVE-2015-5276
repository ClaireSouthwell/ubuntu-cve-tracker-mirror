Candidate: CVE-2015-5276
PublicDate: 2015-09-16
References:
 http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2015-5276
 https://gcc.gnu.org/ml/gcc-patches/2015-09/msg01050.html
Description:
 The std::random_device implementation in libstdc++ does not check the return
 value of read(2) when reading from random devices files. This will result in
 uninitialized memory being returned in the case of a failed or short read.
Ubuntu-Description:
Notes:
 tyhicks> Note that upstream revision 227687 is incomplete/incorrect. See
  msg01050.html for a more complete patch that is undergoing review.
 tyhicks> In gcc-4.7 through gcc-4.8, the code in question exists at
  libstdc++-v3/include/tr1/random.h and libstdc++-v3/include/bits/random.h
 tyhicks> In gcc-4.4, the code in question exists at
  libstdc++-v3/include/tr1_impl/random
 sbeattie> Note that for versions where the random_device() code in
  question is in a header file, means that it's compiled into the
  binaries built against libstdc++, which would need to be rebuilt to
  get the fixed version.
 sbeattie> upstream commits (so far) are listed under gcc-snapshots
  package. Corresponding git commits are:
     84bb4e67d45a8921cedd2ef64fe3cffd9ee72f44
     8efb09c4325785a5e7d11d05c5aadc74d2a49887
     fd16f36d1986fbbb9f802b3649e543f3f41227ea
Bugs:
 https://gcc.gnu.org/bugzilla/show_bug.cgi?id=65142
Priority: medium
Discovered-by: Lee Clagett
Assigned-to:

Patches_gcc-3.3:
upstream_gcc-3.3: not-affected
precise_gcc-3.3: not-affected
trusty_gcc-3.3: not-affected
vivid_gcc-3.3: not-affected
devel_gcc-3.3: not-affected (std::random_device not present)

Patches_gcc-4.4:
upstream_gcc-4.4: needed
precise_gcc-4.4: needed
trusty_gcc-4.4: needed
vivid_gcc-4.4: needed
devel_gcc-4.4: DNE

Patches_gcc-4.5:
upstream_gcc-4.5: needed
precise_gcc-4.5: needed
trusty_gcc-4.5: DNE
vivid_gcc-4.5: DNE
devel_gcc-4.5: DNE

Patches_gcc-4.6:
upstream_gcc-4.6: needed
precise_gcc-4.6: needed
trusty_gcc-4.6: needed
vivid_gcc-4.6: needed
devel_gcc-4.6: DNE

Patches_gcc-4.7:
upstream_gcc-4.7: needed
precise_gcc-4.7: DNE
trusty_gcc-4.7: needed
vivid_gcc-4.7: needed
devel_gcc-4.7: needed

Patches_gcc-4.8:
upstream_gcc-4.8: needed
precise_gcc-4.8: DNE
trusty_gcc-4.8: needed
vivid_gcc-4.8: needed
devel_gcc-4.8: needed

Patches_gcc-4.9:
upstream_gcc-4.9: needed
precise_gcc-4.9: DNE
trusty_gcc-4.9: DNE
vivid_gcc-4.9: needed
devel_gcc-4.9: needed

Patches_gcc-5:
upstream_gcc-5: needed
precise_gcc-5: DNE
trusty_gcc-5: DNE
vivid_gcc-5: DNE
devel_gcc-5: needed

Patches_gcc-snapshot:
 upstream: https://gcc.gnu.org/viewcvs/gcc?view=revision&revision=227687
 upstream: https://gcc.gnu.org/viewcvs/gcc?view=revision&revision=227872
 upstream: https://gcc.gnu.org/viewcvs/gcc?view=revision&revision=227887
upstream_gcc-snapshot: needed
precise_gcc-snapshot: needed
trusty_gcc-snapshot: needed
vivid_gcc-snapshot: needed
devel_gcc-snapshot: needed

Patches_gcc-i686-linux-android:
upstream_gcc-i686-linux-android: needs-triage
precise_gcc-i686-linux-android: DNE
trusty_gcc-i686-linux-android: needs-triage
vivid_gcc-i686-linux-android: needs-triage
devel_gcc-i686-linux-android: needs-triage

Patches_gcc-4.4-armel-cross:
upstream_gcc-4.4-armel-cross: needs-triage
precise_gcc-4.4-armel-cross: needs-triage
trusty_gcc-4.4-armel-cross: DNE
vivid_gcc-4.4-armel-cross: DNE
devel_gcc-4.4-armel-cross: DNE

Patches_gcc-4.4-armhf-cross:
upstream_gcc-4.4-armhf-cross: needs-triage
precise_gcc-4.4-armhf-cross: needs-triage
trusty_gcc-4.4-armhf-cross: DNE
vivid_gcc-4.4-armhf-cross: DNE
devel_gcc-4.4-armhf-cross: DNE

Patches_gcc-4.5-armel-cross:
upstream_gcc-4.5-armel-cross: needs-triage
precise_gcc-4.5-armel-cross: needs-triage
trusty_gcc-4.5-armel-cross: DNE
vivid_gcc-4.5-armel-cross: DNE
devel_gcc-4.5-armel-cross: DNE

Patches_gcc-4.5-armhf-cross:
upstream_gcc-4.5-armhf-cross: needs-triage
precise_gcc-4.5-armhf-cross: needs-triage
trusty_gcc-4.5-armhf-cross: DNE
vivid_gcc-4.5-armhf-cross: DNE
devel_gcc-4.5-armhf-cross: DNE

Patches_gcc-4.6-armel-cross:
upstream_gcc-4.6-armel-cross: needs-triage
precise_gcc-4.6-armel-cross: needs-triage
trusty_gcc-4.6-armel-cross: DNE
vivid_gcc-4.6-armel-cross: DNE
devel_gcc-4.6-armel-cross: DNE

Patches_gcc-4.6-armhf-cross:
upstream_gcc-4.6-armhf-cross: needs-triage
precise_gcc-4.6-armhf-cross: needs-triage
trusty_gcc-4.6-armhf-cross: DNE
vivid_gcc-4.6-armhf-cross: DNE
devel_gcc-4.6-armhf-cross: DNE

Patches_gcc-4.7-arm64-cross:
upstream_gcc-4.7-arm64-cross: needs-triage
precise_gcc-4.7-arm64-cross: DNE
trusty_gcc-4.7-arm64-cross: DNE
vivid_gcc-4.7-arm64-cross: DNE
devel_gcc-4.7-arm64-cross: DNE

Patches_gcc-4.7-armel-cross:
upstream_gcc-4.7-armel-cross: needs-triage
precise_gcc-4.7-armel-cross: DNE
trusty_gcc-4.7-armel-cross: needs-triage
vivid_gcc-4.7-armel-cross: needs-triage
devel_gcc-4.7-armel-cross: needs-triage

Patches_gcc-4.7-armhf-cross:
upstream_gcc-4.7-armhf-cross: needs-triage
precise_gcc-4.7-armhf-cross: DNE
trusty_gcc-4.7-armhf-cross: needs-triage
vivid_gcc-4.7-armhf-cross: needs-triage
devel_gcc-4.7-armhf-cross: needs-triage

Patches_gcc-4.7-powerpc-cross:
upstream_gcc-4.7-powerpc-cross: needs-triage
precise_gcc-4.7-powerpc-cross: DNE
trusty_gcc-4.7-powerpc-cross: DNE
vivid_gcc-4.7-powerpc-cross: DNE
devel_gcc-4.7-powerpc-cross: DNE

Patches_gcc-4.8-arm64-cross:
upstream_gcc-4.8-arm64-cross: needs-triage
precise_gcc-4.8-arm64-cross: DNE
trusty_gcc-4.8-arm64-cross: needs-triage
vivid_gcc-4.8-arm64-cross: needs-triage
devel_gcc-4.8-arm64-cross: needs-triage
Tags_gcc-4.8-arm64-cross: universe-binary

Patches_gcc-4.8-armhf-cross:
upstream_gcc-4.8-armhf-cross: needs-triage
precise_gcc-4.8-armhf-cross: DNE
trusty_gcc-4.8-armhf-cross: needs-triage
vivid_gcc-4.8-armhf-cross: needs-triage
devel_gcc-4.8-armhf-cross: needs-triage
Tags_gcc-4.8-armhf-cross: universe-binary

Patches_gcc-4.8-powerpc-cross:
upstream_gcc-4.8-powerpc-cross: needs-triage
precise_gcc-4.8-powerpc-cross: DNE
trusty_gcc-4.8-powerpc-cross: needs-triage
vivid_gcc-4.8-powerpc-cross: needs-triage
devel_gcc-4.8-powerpc-cross: needs-triage
Tags_gcc-4.8-powerpc-cross: universe-binary

Patches_gcc-4.8-ppc64el-cross:
upstream_gcc-4.8-ppc64el-cross: needs-triage
precise_gcc-4.8-ppc64el-cross: DNE
trusty_gcc-4.8-ppc64el-cross: needs-triage
vivid_gcc-4.8-ppc64el-cross: needs-triage
devel_gcc-4.8-ppc64el-cross: needs-triage
Tags_gcc-4.8-ppc64el-cross: universe-binary

Patches_gcc-4.9-arm64-cross:
upstream_gcc-4.9-arm64-cross: needs-triage
precise_gcc-4.9-arm64-cross: DNE
trusty_gcc-4.9-arm64-cross: DNE
vivid_gcc-4.9-arm64-cross: needs-triage
devel_gcc-4.9-arm64-cross: DNE
Tags_gcc-4.9-arm64-cross: universe-binary

Patches_gcc-4.9-armhf-cross:
upstream_gcc-4.9-armhf-cross: needs-triage
precise_gcc-4.9-armhf-cross: DNE
trusty_gcc-4.9-armhf-cross: DNE
vivid_gcc-4.9-armhf-cross: needs-triage
devel_gcc-4.9-armhf-cross: DNE
Tags_gcc-4.9-armhf-cross: universe-binary

Patches_gcc-4.9-powerpc-cross:
upstream_gcc-4.9-powerpc-cross: needs-triage
precise_gcc-4.9-powerpc-cross: DNE
trusty_gcc-4.9-powerpc-cross: DNE
vivid_gcc-4.9-powerpc-cross: needs-triage
devel_gcc-4.9-powerpc-cross: DNE
Tags_gcc-4.9-powerpc-cross: universe-binary

Patches_gcc-4.9-ppc64el-cross:
upstream_gcc-4.9-ppc64el-cross: needs-triage
precise_gcc-4.9-ppc64el-cross: DNE
trusty_gcc-4.9-ppc64el-cross: DNE
vivid_gcc-4.9-ppc64el-cross: needs-triage
devel_gcc-4.9-ppc64el-cross: DNE
Tags_gcc-4.9-ppc64el-cross: universe-binary

Patches_gcc-arm-linux-androideabi:
upstream_gcc-arm-linux-androideabi: needs-triage
precise_gcc-arm-linux-androideabi: DNE
trusty_gcc-arm-linux-androideabi: needs-triage
vivid_gcc-arm-linux-androideabi: needs-triage
devel_gcc-arm-linux-androideabi: needs-triage

Patches_gcc-arm-none-eabi:
upstream_gcc-arm-none-eabi: needs-triage
precise_gcc-arm-none-eabi: DNE
trusty_gcc-arm-none-eabi: needs-triage
vivid_gcc-arm-none-eabi: needs-triage
devel_gcc-arm-none-eabi: needs-triage

Patches_gcc-avr:
upstream_gcc-avr: needs-triage
precise_gcc-avr: needs-triage
trusty_gcc-avr: needs-triage
vivid_gcc-avr: needs-triage
devel_gcc-avr: needs-triage

Patches_gcc-defaults:
upstream_gcc-defaults: not-affected
precise_gcc-defaults: not-affected
trusty_gcc-defaults: not-affected
vivid_gcc-defaults: not-affected
devel_gcc-defaults: not-affected

Patches_gcc-defaults-arm64-cross:
upstream_gcc-defaults-arm64-cross: not-affected
precise_gcc-defaults-arm64-cross: DNE
trusty_gcc-defaults-arm64-cross: not-affected
vivid_gcc-defaults-arm64-cross: not-affected
devel_gcc-defaults-arm64-cross: not-affected

Patches_gcc-defaults-armel-cross:
upstream_gcc-defaults-armel-cross: not-affected
precise_gcc-defaults-armel-cross: not-affected
trusty_gcc-defaults-armel-cross: not-affected
vivid_gcc-defaults-armel-cross: not-affected
devel_gcc-defaults-armel-cross: not-affected

Patches_gcc-defaults-armhf-cross:
upstream_gcc-defaults-armhf-cross: not-affected
precise_gcc-defaults-armhf-cross: not-affected
trusty_gcc-defaults-armhf-cross: not-affected
vivid_gcc-defaults-armhf-cross: not-affected
devel_gcc-defaults-armhf-cross: not-affected

Patches_gcc-defaults-powerpc-cross:
upstream_gcc-defaults-powerpc-cross: not-affected
precise_gcc-defaults-powerpc-cross: DNE
trusty_gcc-defaults-powerpc-cross: not-affected
vivid_gcc-defaults-powerpc-cross: not-affected
devel_gcc-defaults-powerpc-cross: not-affected

Patches_gcc-defaults-ppc64el-cross:
upstream_gcc-defaults-ppc64el-cross: not-affected
precise_gcc-defaults-ppc64el-cross: DNE
trusty_gcc-defaults-ppc64el-cross: not-affected
vivid_gcc-defaults-ppc64el-cross: not-affected
devel_gcc-defaults-ppc64el-cross: not-affected

Patches_gcc-h8300-hms:
upstream_gcc-h8300-hms: needs-triage
precise_gcc-h8300-hms: needs-triage
trusty_gcc-h8300-hms: needs-triage
vivid_gcc-h8300-hms: needs-triage
devel_gcc-h8300-hms: needs-triage

Patches_gcc-m68hc1x:
upstream_gcc-m68hc1x: needs-triage
precise_gcc-m68hc1x: needs-triage
trusty_gcc-m68hc1x: needs-triage
vivid_gcc-m68hc1x: needs-triage
devel_gcc-m68hc1x: needs-triage

Patches_gcc-mingw-w64:
upstream_gcc-mingw-w64: needs-triage
precise_gcc-mingw-w64: needs-triage
trusty_gcc-mingw-w64: needs-triage
vivid_gcc-mingw-w64: needs-triage
devel_gcc-mingw-w64: needs-triage

Patches_gcc-msp430:
upstream_gcc-msp430: needs-triage
precise_gcc-msp430: needs-triage
trusty_gcc-msp430: needs-triage
vivid_gcc-msp430: needs-triage
devel_gcc-msp430: needs-triage

Patches_gcc-opt:
upstream_gcc-opt: needs-triage
precise_gcc-opt: needs-triage
trusty_gcc-opt: needs-triage
vivid_gcc-opt: needs-triage
devel_gcc-opt: needs-triage

Patches_gccgo-4.7:
upstream_gccgo-4.7: not-affected
precise_gccgo-4.7: not-affected (vulnerable code is built but libgo doesn't use it)
trusty_gccgo-4.7: DNE
vivid_gccgo-4.7: DNE
devel_gccgo-4.7: DNE

Patches_gccgo-4.9:
upstream_gccgo-4.9: not-affected
precise_gccgo-4.9: DNE
trusty_gccgo-4.9: not-affected (vulnerable code is built but libgo doesn't use it)
vivid_gccgo-4.9: DNE
devel_gccgo-4.9: DNE

Patches_gccgo-5:
upstream_gccgo-5: not-affected
precise_gccgo-5: DNE
trusty_gccgo-5: DNE
vivid_gccgo-5: not-affected (vulnerable code is built but libgo doesn't use it)
devel_gccgo-5: DNE

Patches_gccgo-go:
upstream_gccgo-go: not-affected
precise_gccgo-go: DNE
trusty_gccgo-go: not-affected
vivid_gccgo-go: DNE
devel_gccgo-go: DNE
