#!/usr/bin/env python
# Duplicates the statuses from one CVE to another.
# Copyright (C) 2010 Canonical, Ltd.
# Author: Kees Cook <kees@ubuntu.com>
import os, cve_lib
import optparse

parser = optparse.OptionParser()
(options, args) = parser.parse_args()

cvedir = cve_lib.active_dir
source_filename = os.path.join(cvedir, args[0])
status = "\n\n".join(open(source_filename, "r").read().split('\n\n')[1:])

filename = os.path.join(cvedir, args[1])
header = open(filename, "r").read().split('\n\n')[0]

open(filename + '.new','w').write('%s\n\n%s' % (header, status))
os.rename(filename + '.new', filename)
