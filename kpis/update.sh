#!/bin/bash
# Copyright (C) 2018 Canonical Ltd.
#
# This script is distributed under the terms and conditions of the GNU General
# Public License, Version 2 or later. See http://www.gnu.org/copyleft/gpl.html
# for details.

# Master script to push all KPI data
set -e

# move into the directory which contains this script
pushd $(dirname "${BASH_SOURCE[0]}")

echo "Pushing data to prometheus / influx"
./push-cve-backlog.sh
./push-historic-cve-triage.sh
./push-mailing-list-subscribers.sh
./push-package-count.sh
./push-package-cve-count.sh
./push-sponsor-todo.sh
./push-supported-count.sh
./push-usn-count.sh
echo "Successfully pushed all data to prometheus / influx"
popd
