Candidate: CVE-2018-16882
PublicDate: 2019-01-03
References:
 https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2018-16882
 https://www.openwall.com/lists/oss-security/2018/12/18/6
 https://marc.info/?l=kvm&m=154514994222809&w=2
Description:
 A use-after-free issue was found in the way the Linux kernel's KVM
 hypervisor processed posted interrupts when nested(=1) virtualization is
 enabled. In nested_get_vmcs12_pages(), in case of an error while processing
 posted interrupt address, it unmaps the 'pi_desc_page' without resetting
 'pi_desc' descriptor address, which is later used in
 pi_test_and_clear_on(). A guest user/process could use this flaw to crash
 the host kernel resulting in DoS or potentially gain privileged access to a
 system. Kernel versions before 4.14.91 and before 4.19.13 are vulnerable.
Ubuntu-Description:
Notes:
 tyhicks> Ubuntu kernels do not enable nested KVM virtualization by default and
  are unaffected by this flaw in the default configuration. To ensure that
  nested virtualization is not enabled, verify that the
  /sys/module/kvm_intel/parameters/nested file contains "N".
Bugs:
Priority: medium
Discovered-by: Cfir Cohen
Assigned-to: tyhicks

Patches_linux:
 break-fix: 5e2f30b756a37bd80c5b0471d0e10d769ab2eb9a c2dd5146e9fe1f22c77c1b011adf84eea0245806
upstream_linux: released (4.20)
precise/esm_linux: not-affected (3.0.0-12.20)
trusty_linux: not-affected (3.11.0-12.19)
xenial_linux: not-affected (4.2.0-16.19)
bionic_linux: pending (4.15.0-44.47)
cosmic_linux: pending (4.18.0-14.15)
devel_linux: pending

Patches_linux-lts-trusty:
upstream_linux-lts-trusty: released (4.20)
precise/esm_linux-lts-trusty: not-affected (3.13.0-24.46~precise1)
trusty_linux-lts-trusty: DNE
xenial_linux-lts-trusty: DNE
bionic_linux-lts-trusty: DNE
cosmic_linux-lts-trusty: DNE
devel_linux-lts-trusty: DNE

Patches_linux-goldfish:
upstream_linux-goldfish: released (4.20)
precise/esm_linux-goldfish: DNE
trusty_linux-goldfish: ignored (abandoned)
xenial_linux-goldfish: ignored (end-of-life)
bionic_linux-goldfish: DNE
cosmic_linux-goldfish: DNE
devel_linux-goldfish: DNE

Patches_linux-grouper:
upstream_linux-grouper: released (4.20)
precise/esm_linux-grouper: DNE
trusty_linux-grouper: ignored (abandoned)
xenial_linux-grouper: DNE
bionic_linux-grouper: DNE
cosmic_linux-grouper: DNE
devel_linux-grouper: DNE

Patches_linux-maguro:
upstream_linux-maguro: released (4.20)
precise/esm_linux-maguro: DNE
trusty_linux-maguro: ignored (abandoned)
xenial_linux-maguro: DNE
bionic_linux-maguro: DNE
cosmic_linux-maguro: DNE
devel_linux-maguro: DNE

Patches_linux-mako:
upstream_linux-mako: released (4.20)
precise/esm_linux-mako: DNE
trusty_linux-mako: ignored (abandoned)
xenial_linux-mako: ignored (abandoned)
bionic_linux-mako: DNE
cosmic_linux-mako: DNE
devel_linux-mako: DNE

Patches_linux-manta:
upstream_linux-manta: released (4.20)
precise/esm_linux-manta: DNE
trusty_linux-manta: ignored (abandoned)
xenial_linux-manta: DNE
bionic_linux-manta: DNE
cosmic_linux-manta: DNE
devel_linux-manta: DNE

Patches_linux-flo:
upstream_linux-flo: released (4.20)
precise/esm_linux-flo: DNE
trusty_linux-flo: ignored (abandoned)
xenial_linux-flo: ignored (abandoned)
bionic_linux-flo: DNE
cosmic_linux-flo: DNE
devel_linux-flo: DNE

Patches_linux-raspi2:
upstream_linux-raspi2: released (4.20)
precise/esm_linux-raspi2: DNE
trusty_linux-raspi2: DNE
xenial_linux-raspi2: not-affected (4.2.0-1013.19)
bionic_linux-raspi2: needed
cosmic_linux-raspi2: needed
devel_linux-raspi2: needed

Patches_linux-lts-utopic:
upstream_linux-lts-utopic: released (4.20)
precise/esm_linux-lts-utopic: DNE
trusty_linux-lts-utopic: ignored (end-of-life)
xenial_linux-lts-utopic: DNE
bionic_linux-lts-utopic: DNE
cosmic_linux-lts-utopic: DNE
devel_linux-lts-utopic: DNE

Patches_linux-lts-vivid:
upstream_linux-lts-vivid: released (4.20)
precise/esm_linux-lts-vivid: DNE
trusty_linux-lts-vivid: ignored (end-of-life)
xenial_linux-lts-vivid: DNE
bionic_linux-lts-vivid: DNE
cosmic_linux-lts-vivid: DNE
devel_linux-lts-vivid: DNE

Patches_linux-lts-wily:
upstream_linux-lts-wily: released (4.20)
precise/esm_linux-lts-wily: DNE
trusty_linux-lts-wily: ignored (end-of-life)
xenial_linux-lts-wily: DNE
bionic_linux-lts-wily: DNE
cosmic_linux-lts-wily: DNE
devel_linux-lts-wily: DNE

Patches_linux-lts-xenial:
upstream_linux-lts-xenial: released (4.20)
precise/esm_linux-lts-xenial: DNE
trusty_linux-lts-xenial: not-affected (4.4.0-13.29~14.04.1)
xenial_linux-lts-xenial: DNE
bionic_linux-lts-xenial: DNE
cosmic_linux-lts-xenial: DNE
devel_linux-lts-xenial: DNE

Patches_linux-snapdragon:
upstream_linux-snapdragon: released (4.20)
precise/esm_linux-snapdragon: DNE
trusty_linux-snapdragon: DNE
xenial_linux-snapdragon: not-affected (4.4.0-1012.12)
bionic_linux-snapdragon: DNE
cosmic_linux-snapdragon: DNE
devel_linux-snapdragon: DNE

Patches_linux-aws:
upstream_linux-aws: released (4.20)
precise/esm_linux-aws: DNE
trusty_linux-aws: not-affected (4.4.0-1002.2)
xenial_linux-aws: not-affected (4.4.0-1001.10)
bionic_linux-aws: needed
cosmic_linux-aws: needed
devel_linux-aws: needed

Patches_linux-hwe:
upstream_linux-hwe: released (4.20)
precise/esm_linux-hwe: DNE
trusty_linux-hwe: DNE
xenial_linux-hwe: pending (4.15.0-44.47~16.04.1)
bionic_linux-hwe: pending (4.18.0-14.15~18.04.1)
cosmic_linux-hwe: DNE
devel_linux-hwe: DNE

Patches_linux-hwe-edge:
upstream_linux-hwe-edge: released (4.20)
precise/esm_linux-hwe-edge: DNE
trusty_linux-hwe-edge: DNE
xenial_linux-hwe-edge: pending (4.15.0-44.47~16.04.1)
bionic_linux-hwe-edge: not-affected (4.18.0-14.15~18.04.1)
cosmic_linux-hwe-edge: DNE
devel_linux-hwe-edge: DNE

Patches_linux-gke:
upstream_linux-gke: released (4.20)
precise/esm_linux-gke: DNE
trusty_linux-gke: DNE
xenial_linux-gke: ignored (end-of-life)
bionic_linux-gke: DNE
cosmic_linux-gke: DNE
devel_linux-gke: DNE

Patches_linux-azure:
upstream_linux-azure: released (4.20)
precise/esm_linux-azure: DNE
trusty_linux-azure: needed
xenial_linux-azure: needed
bionic_linux-azure: pending (4.15.0-1037.39)
cosmic_linux-azure: pending (4.18.0-1008.8)
devel_linux-azure: needed

Patches_linux-azure-edge:
upstream_linux-azure-edge: released (4.20)
precise/esm_linux-azure-edge: DNE
trusty_linux-azure-edge: DNE
xenial_linux-azure-edge: needed
bionic_linux-azure-edge: needed
cosmic_linux-azure-edge: DNE
devel_linux-azure-edge: DNE

Patches_linux-gcp:
upstream_linux-gcp: released (4.20)
precise/esm_linux-gcp: DNE
trusty_linux-gcp: DNE
xenial_linux-gcp: needed
bionic_linux-gcp: pending (4.15.0-1027.28)
cosmic_linux-gcp: pending (4.18.0-1006.7)
devel_linux-gcp: needed

Patches_linux-kvm:
upstream_linux-kvm: released (4.20)
precise/esm_linux-kvm: DNE
trusty_linux-kvm: DNE
xenial_linux-kvm: not-affected (4.4.0-1004.9)
bionic_linux-kvm: pending (4.15.0-1029.29)
cosmic_linux-kvm: needed
devel_linux-kvm: needed

Patches_linux-euclid:
upstream_linux-euclid: released (4.20)
precise/esm_linux-euclid: DNE
trusty_linux-euclid: DNE
xenial_linux-euclid: not-affected (4.4.0-9019.20)
bionic_linux-euclid: DNE
cosmic_linux-euclid: DNE
devel_linux-euclid: DNE

Patches_linux-oem:
upstream_linux-oem: released (4.20)
precise/esm_linux-oem: DNE
trusty_linux-oem: DNE
xenial_linux-oem: ignored (was needs-triage now end-of-life)
bionic_linux-oem: needed
cosmic_linux-oem: needed
devel_linux-oem: needed

Patches_linux-gcp-edge:
upstream_linux-gcp-edge: released (4.20)
precise/esm_linux-gcp-edge: DNE
trusty_linux-gcp-edge: DNE
xenial_linux-gcp-edge: DNE
bionic_linux-gcp-edge: needed
cosmic_linux-gcp-edge: DNE
devel_linux-gcp-edge: DNE

Patches_linux-aws-hwe:
upstream_linux-aws-hwe: released (4.20)
precise/esm_linux-aws-hwe: DNE
trusty_linux-aws-hwe: DNE
xenial_linux-aws-hwe: needed
bionic_linux-aws-hwe: DNE
cosmic_linux-aws-hwe: DNE
devel_linux-aws-hwe: DNE
