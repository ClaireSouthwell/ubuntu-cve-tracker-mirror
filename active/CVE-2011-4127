PublicDateAtUSN: 2011-12-23
Candidate: CVE-2011-4127
PublicDate: 2011-12-23
References:
 http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2011-4127
 https://lkml.org/lkml/2004/8/12/218
 https://lkml.org/lkml/2004/8/12/260
 https://lkml.org/lkml/2011/12/22/270
 http://www.ubuntu.com/usn/usn-1384-1
 http://www.ubuntu.com/usn/usn-1388-1
 http://www.ubuntu.com/usn/usn-1384-1
 http://www.ubuntu.com/usn/usn-1389-1
 http://www.ubuntu.com/usn/usn-1405-1
Description:
 Paolo Bonzini of Red Hat found out that the host Linux system allows
 executing the SG_IO ioctl on a partition or even on an LVM volume, and
 will pass the command to the underlying block device. This could be
 further exploited in the in the context of virtualization, because
 virtio disks support a limited form of SCSI passthrough via the SG_IO
 ioctl. If virtio disk is hosted on a partition or LVM volume with
 format=raw, tools such as sg_dd can be used to read and write other data
 on the same disk --- even data that belongs to the host or to other
 guests.
Ubuntu-Description:
 Paolo Bonzini discovered a flaw in Linux's handling of the SG_IO ioctl
 command. A local user, or user in a VM could exploit this flaw to bypass
 restrictions and gain read/write access to all data on the affected block
 device.
Notes:
 apw> This seems to be seens as the right thing to do, but not so late
 apw> in 3.2, expect to see something applied in the early merge window
 apw>   https://lkml.org/lkml/2011/12/22/366
 apw> The fixes have now hit mainline, there is a strong possibility that
 apw> when these are applied to older releases we will get functionality
 apw> regressions, will get them on precise as soon as possible.
Bugs:
 https://bugzilla.redhat.com/show_bug.cgi?id=752375
 https://launchpad.net/bugs/911397
Priority: medium
Discovered-by: Paolo Bonzini
Assigned-to: 

Patches_linux:
 break-fix: - 577ebb374c78314ac4617242f509e2f5e7156649
 break-fix: - 0bfc96cb77224736dfa35c3c555d37b3646ef35e
 break-fix: - ec8013beddd717d1740cfefb1a9b900deef85462
upstream_linux: released (3.3~rc1)
hardy_linux: needed
lucid_linux: released (2.6.32-39.86)
maverick_linux: ignored (reached end-of-life)
natty_linux: needed
oneiric_linux: released (3.0.0-16.29)
devel_linux: not-affected (3.2.0-12.20)

Patches_linux-ec2:
upstream_linux-ec2: released (3.3~rc1)
hardy_linux-ec2: DNE
lucid_linux-ec2: released (2.6.32-343.45)
maverick_linux-ec2: ignored (binary supplied by "linux" now)
natty_linux-ec2: DNE
oneiric_linux-ec2: DNE
devel_linux-ec2: DNE

Patches_linux-mvl-dove:
upstream_linux-mvl-dove: released (3.3~rc1)
hardy_linux-mvl-dove: DNE
lucid_linux-mvl-dove: not-affected (no virtualisation on ARM)
maverick_linux-mvl-dove: not-affected (no virtualisation on ARM)
natty_linux-mvl-dove: DNE
oneiric_linux-mvl-dove: DNE
devel_linux-mvl-dove: DNE

Patches_linux-ti-omap4:
upstream_linux-ti-omap4: released (3.3~rc1)
hardy_linux-ti-omap4: DNE
lucid_linux-ti-omap4: DNE
maverick_linux-ti-omap4: not-affected (no virtualisation on ARM)
natty_linux-ti-omap4: not-affected (no virtualisation on ARM)
oneiric_linux-ti-omap4: not-affected (no virtualisation on ARM)
devel_linux-ti-omap4: not-affected (no virtualisation on ARM)

Patches_linux-lts-backport-maverick:
upstream_linux-lts-backport-maverick: released (3.3~rc1)
hardy_linux-lts-backport-maverick: DNE
lucid_linux-lts-backport-maverick: needed
maverick_linux-lts-backport-maverick: DNE
natty_linux-lts-backport-maverick: DNE
oneiric_linux-lts-backport-maverick: DNE
devel_linux-lts-backport-maverick: DNE

Patches_linux-fsl-imx51:
upstream_linux-fsl-imx51: released (3.3~rc1)
hardy_linux-fsl-imx51: DNE
lucid_linux-fsl-imx51: not-affected (no virtualisation on ARM)
maverick_linux-fsl-imx51: DNE
natty_linux-fsl-imx51: DNE
oneiric_linux-fsl-imx51: DNE
devel_linux-fsl-imx51: DNE

Patches_linux-lts-backport-natty:
upstream_linux-lts-backport-natty: released (3.3~rc1)
hardy_linux-lts-backport-natty: DNE
lucid_linux-lts-backport-natty: needed
maverick_linux-lts-backport-natty: DNE
natty_linux-lts-backport-natty: DNE
oneiric_linux-lts-backport-natty: DNE
devel_linux-lts-backport-natty: DNE

Patches_linux-lts-backport-oneiric:
upstream_linux-lts-backport-oneiric: released (3.3~rc1)
hardy_linux-lts-backport-oneiric: DNE
lucid_linux-lts-backport-oneiric: released (3.0.0-16.29~lucid1)
maverick_linux-lts-backport-oneiric: DNE
natty_linux-lts-backport-oneiric: DNE
oneiric_linux-lts-backport-oneiric: DNE
devel_linux-lts-backport-oneiric: DNE
