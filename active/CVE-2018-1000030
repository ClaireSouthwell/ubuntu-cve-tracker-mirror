Candidate: CVE-2018-1000030
PublicDate: 2018-02-08
References:
 https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2018-1000030
 https://bugs.python.org/file47157/0001-stop-crashes-when-iterating-over-a-file-on-multiple-.patch
 https://github.com/python/cpython/pull/3670
 https://github.com/python/cpython/pull/3672
 https://github.com/python/cpython/commit/6401e5671781eb217ee1afb4603cc0d1b0367ae6
 https://github.com/python/cpython/pull/5060
 https://bugs.python.org/msg309265
Description:
 Python 2.7.14 is vulnerable to a Heap-Buffer-Overflow as well as a
 Heap-Use-After-Free. Python versions prior to 2.7.14 may also be vulnerable
 and it appears that Python 2.7.17 and prior may also be vulnerable however
 this has not been confirmed. The vulnerability lies when multiply threads
 are handling large amounts of data. In both cases there is essentially a
 race condition that occurs. For the Heap-Buffer-Overflow, Thread 2 is
 creating the size for a buffer, but Thread1 is already writing to the
 buffer without knowing how much to write. So when a large amount of data is
 being processed, it is very easy to cause memory corruption using a
 Heap-Buffer-Overflow. As for the Use-After-Free,
 Thread3->Malloc->Thread1->Free's->Thread2-Re-uses-Free'd Memory. The PSRT
 has stated that this is not a security vulnerability due to the fact that
 the attacker must be able to run code, however in some situations, such as
 function as a service, this vulnerability can potentially be used by an
 attacker to violate a trust boundary, as such the DWF feels this issue
 deserves a CVE.
Ubuntu-Description:
Notes:
Bugs:
Priority: medium
Discovered-by:
Assigned-to:

Patches_python2.7:
upstream_python2.7: needs-triage
precise/esm_python2.7: needs-triage
trusty_python2.7: needed
xenial_python2.7: needed
artful_python2.7: needed
devel_python2.7: needed

Patches_python2.6:
upstream_python2.6: needs-triage
precise/esm_python2.6: DNE
trusty_python2.6: DNE
xenial_python2.6: DNE
artful_python2.6: DNE
devel_python2.6: DNE

Patches_python3.6:
upstream_python3.6: needs-triage
precise/esm_python3.6: DNE
trusty_python3.6: DNE
xenial_python3.6: DNE
artful_python3.6: not-affected
devel_python3.6: not-affected

Patches_python3.7:
upstream_python3.7: needs-triage
precise/esm_python3.7: DNE
trusty_python3.7: DNE
xenial_python3.7: DNE
artful_python3.7: not-affected
devel_python3.7: not-affected

Patches_python3.4:
upstream_python3.4: needs-triage
precise/esm_python3.4: DNE
trusty_python3.4: not-affected
xenial_python3.4: DNE
artful_python3.4: DNE
devel_python3.4: DNE

Patches_python3.5:
upstream_python3.5: needs-triage
precise/esm_python3.5: DNE
trusty_python3.5: DNE
xenial_python3.5: not-affected
artful_python3.5: DNE
devel_python3.5: DNE

Patches_python3.2:
upstream_python3.2: needs-triage
precise/esm_python3.2: DNE
trusty_python3.2: DNE
xenial_python3.2: DNE
artful_python3.2: DNE
devel_python3.2: DNE
