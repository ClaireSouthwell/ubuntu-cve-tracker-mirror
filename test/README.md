# Running Tests

Running the tests in a Bionic LXD container makes it easier to run both Python
2 and 3 and doesn't pollute your local python environment.

Install the required packages,

```bash
sudo apt install python python3 python-mock python3-mock python-pytest python3-pytest python-launchpadlib python3-launchpadlib libopenscap8
```

Clone the required repos,

```bash
git clone git://git.launchpad.net/ubuntu-cve-tracker && git clone git://git.launchpad.net/ubuntu-qa-tools
```

Grab the USN database,

```bash
~/ubuntu-cve-tracker/scripts/fetch-db database.json.bz2
```

Add the scripts to your PYTHONPATH,

```bash
vim ~/.bashrc
export PYTHONPATH="$PYTHONPATH:$HOME/ubuntu-qa-tools/common/:$HOME/ubuntu-cve-tracker/scripts/"
```

Run the tests,

```bash
cd $HOME/ubuntu-cve-tracker 
pytest test/
pytest-3 test/
```

To run unit tests alone,

```bash
pytest test/test_oval_lib_unit.py
pytest-3 test/test_oval_lib_unit.py
```
