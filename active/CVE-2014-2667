Candidate: CVE-2014-2667
PublicDate: 2014-11-15
References:
 http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2014-2667
 http://seclists.org/oss-sec/2014/q1/687
Description:
 Race condition in the _get_masked_mode function in Lib/os.py in Python 3.2
 through 3.5, when exist_ok is set to true and multiple threads are used,
 might allow local users to bypass intended file permissions by leveraging a
 separate application vulnerability before the umask has been set to the
 expected value.
Ubuntu-Description:
Notes:
 sarnold> The upstream patch uses umask(0022) instead of umask(0) -- which
  seems as bad as the original behaviour. We should see if there is an updated
  patch when we prepare our packages that replaces the bad code.
 mdeslaur> introduced by the fix for http://bugs.python.org/issue9299
 mdeslaur> upstream commited a better fix than the proposed one in the bug
 mdeslaur> but it now changes behavour
Bugs:
 http://bugs.python.org/issue21082
Priority: low
Discovered-by: Ryan Lortie
Assigned-to:

Patches_python2.7:
upstream_python2.7: not-affected
lucid_python2.7: DNE
precise_python2.7: not-affected
quantal_python2.7: not-affected
saucy_python2.7: not-affected
trusty_python2.7: not-affected
utopic_python2.7: not-affected
devel_python2.7: not-affected

Patches_python2.6:
upstream_python2.6: not-affected
lucid_python2.6: not-affected
precise_python2.6: DNE
quantal_python2.6: DNE
saucy_python2.6: DNE
trusty_python2.6: DNE
utopic_python2.6: DNE
devel_python2.6: DNE

Patches_python3.4:
 upstream: http://hg.python.org/cpython/rev/c24dd53ab4b9
upstream_python3.4: needed
lucid_python3.4: DNE
precise_python3.4: DNE
quantal_python3.4: DNE
saucy_python3.4: DNE
trusty_python3.4: needed
utopic_python3.4: needed
devel_python3.4: needed

Patches_python3.2:
 upstream: http://hg.python.org/cpython/rev/9186f4a18584
upstream_python3.2: needed
lucid_python3.2: DNE
precise_python3.2: needed
quantal_python3.2: ignored (reached end-of-life)
saucy_python3.2: DNE
trusty_python3.2: DNE
utopic_python3.2: DNE
devel_python3.2: DNE

Patches_python3.3:
 upstream: http://hg.python.org/cpython/rev/6370d44013f7
upstream_python3.3: needed
lucid_python3.3: DNE
precise_python3.3: DNE
quantal_python3.3: ignored (reached end-of-life)
saucy_python3.3: ignored (reached end-of-life)
trusty_python3.3: DNE
utopic_python3.3: DNE
devel_python3.3: DNE

Patches_python3.1:
upstream_python3.1: not-affected
lucid_python3.1: ignored (reached end-of-life)
precise_python3.1: DNE
quantal_python3.1: DNE
saucy_python3.1: DNE
trusty_python3.1: DNE
utopic_python3.1: DNE
devel_python3.1: DNE
