Candidate: CVE-2017-1000256
PublicDate: 2017-10-17
References:
 https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2017-1000256
 https://www.redhat.com/archives/libvirt-announce/2017-October/msg00001.html
 http://security.libvirt.org/2017/0002.html
Description:
 The default_tls_x509_verify (and related) parameters in qemu.conf control
 whether the TLS servers in QEMU request & verify certificates from clients.
 This works as a simple access control system for QEMU servers by requiring
 the CA to issue certs to permitted clients. This use of client certificates
 is disabled by default, since it requires extra work to issue client
 certificates. Unfortunately the libvirt code was using these configuration
 parameters when setting up both TLS clients and servers in QEMU. The result
 was that TLS clients for character devices and disk devices had verification
 turned off, meaning they would ignore any errors while validating the server
 certificate. A MITM attacker can attack any client connection made by QEMU's
 character devices and disk devices which have TLS enabled. The attacker can
 send an arbitrary certificate back to the client QEMU and it will ignore all
 errors that result during validation. A workaround exists: Enable the
 'default_tls_x509_verify' parameter in qemu.conf restart libvirtd. This will
 trigger libvirt to turn on certificate verification in QEMU clients.
 Unfortunately this will also turn on use of client certificates in QEMU
 servers.
Ubuntu-Description:
Notes:
Bugs:
 http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=878799
Priority: medium
Discovered-by: Daniel P. Berrange
Assigned-to:


Patches_libvirt:
 break-fix: ce61c16450d4992612d1fc6f39a39e79bfccead5 441d3eb6d1be940a67ce45a286602a967601b157
 upstream: https://libvirt.org/git/?p=libvirt.git;a=patch;h=441d3eb6d1be940a67ce45a286602a967601b157
upstream_libvirt: released (3.8.0-3)
precise/esm_libvirt: not-affected
trusty_libvirt: not-affected
vivid/ubuntu-core_libvirt: DNE
xenial_libvirt: not-affected
zesty_libvirt: needed
artful_libvirt: needed
devel_libvirt: needed
